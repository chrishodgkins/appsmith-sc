{
  "accentColor": "{{appsmith.theme.colors.primaryColor}}",
  "allowScroll": false,
  "animateLoading": true,
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "bottomRow": 256,
  "bottomRowBeforeCollapse": 256,
  "boxShadow": "{{appsmith.theme.boxShadow.appBoxShadow}}",
  "chartData": {
    "o82yvmu058": {
      "data": "[{\"x\":\"label\",\"y\":50}]",
      "seriesName": ""
    },
    "v8lhk8v2d4": {
      "data": "",
      "seriesName": "2023"
    }
  },
  "chartName": "Sales Report",
  "chartType": "CUSTOM_ECHART",
  "customEChartConfig": "{{ ((chartType) => ( \n(() => {\n  const rows = statpull.data || [];\n\n  // grab filter text from Input1, lowercased for case-insensitive matching\n  const txt = (Input1?.text || \"\").toLowerCase();\n\n  // chosen date (or latest if none picked)\n  const pick = DatePicker1?.selectedDate;\n  const pickDay = pick ? new Date(pick).toISOString().slice(0,10)\n                       : (rows.map(r => r.collection_date).sort().pop());\n\n  // filter by day and text match\n  const dayRows = rows.filter(r => {\n    if (r.collection_date !== pickDay) return false;\n    if (!txt) return true; // no filter = show all\n    const label = `${r.external_id} — ${r.description}`.toLowerCase();\n    return label.includes(txt);\n  });\n\n  // hour labels 12AM..11PM\n  const hourLabels = Array.from({length:24}, (_,h) => {\n    const hr = h % 12 === 0 ? 12 : h % 12;\n    const ampm = h < 12 ? 'AM' : 'PM';\n    return `${hr}${ampm}`;\n  });\n\n  // build series: per service two lines (inbound/outbound)\n  const series = [];\n  for (const r of dayRows) {\n    const label = `${r.external_id} -- ${r.description}`;\n\n    const inbound = Array.from({length:24}, (_,h) => Number(r[`inbound_${h}`] ?? 0));\n    const outbound = Array.from({length:24}, (_,h) => Number(r[`outbound_${h}`] ?? 0));\n\n    series.push({\n      name: `${label} — inbound`,\n      type: 'line',\n      stack: 'total',\n      areaStyle: {},\n      smooth: false,\n      data: inbound,\n    });\n    series.push({\n      name: `${label} — outbound`,\n      type: 'line',\n      stack: 'total',\n      areaStyle: {},\n      smooth: false,\n      data: outbound,\n    });\n  }\n\n  return {\n    title: { text: `Hourly Calls (${pickDay || 'no date'})` },\n    tooltip: { trigger: 'axis' },\n    legend: {\n    type: 'scroll',        // scroll if lots of services\n    orient: 'vertical',    // stack vertically\n    right: 2,             // distance from right edge\n    top: 'top',         // vertical centering\n    align: 'right',         // labels align right of swatches\n    selectedMode: 'multiple',\n    selector: [\n      {type: 'all', title: 'Show All' },\n      {type: 'inverse', title: 'Single View' }\n    ],\n    tooltip: { show: true } // shows tooltip when you hover legend items\n    },\n    tooltip: {\n    trigger: 'axis',\n    axisPointer: { type: 'line' }\n    },\n    emphasis: {\n    focus: 'series',   // highlight series + legend when hovering point/line\n    blurScope: 'coordinateSystem' // fade others in same chart\n    },   \n    grid: { left: 50, right: 20, top: 50, bottom: 40 },\n    xAxis: { type: 'category', data: hourLabels },\n    yAxis: { type: 'value', name: 'Calls per hour' },\n    series,\n  };\n})()\n))(hourStats.chartType) }}",
  "customFusionChartConfig": {
    "dataSource": {
      "chart": {
        "alignCaptionWithCanvas": 1,
        "canvasPadding": "0",
        "caption": "Sales Report",
        "captionAlignment": "center",
        "captionFontColor": "#231F20",
        "captionFontSize": "24",
        "captionPadding": "20",
        "chartBottomMargin": "10",
        "chartLeftMargin": "20",
        "chartRightMargin": "40",
        "chartTopMargin": "10",
        "labelFontColor": "#716e6e",
        "labelFontSize": "12",
        "legendIconAlpha": "100",
        "legendIconBgAlpha": "100",
        "legendIconSides": "4",
        "legendPosition": "top",
        "theme": "fusion",
        "xAxisName": "Product Line",
        "xAxisNameFontColor": "#716e6e",
        "xAxisNameFontSize": "14",
        "yAxisName": "Revenue($)",
        "yAxisNameFontColor": "#716e6e",
        "yAxisNameFontSize": "14",
        "yAxisValueFontColor": "#716e6e",
        "yAxisValueFontSize": "12"
      },
      "data": [
        {
          "label": "Product1",
          "value": 20000
        },
        {
          "label": "Product2",
          "value": 22000
        },
        {
          "label": "Product3",
          "value": 32000
        }
      ]
    },
    "type": "column2d"
  },
  "dynamicBindingPathList": [
    {
      "key": "borderRadius"
    },
    {
      "key": "boxShadow"
    },
    {
      "key": "accentColor"
    },
    {
      "key": "fontFamily"
    },
    {
      "key": "customEChartConfig"
    },
    {
      "key": "isVisible"
    }
  ],
  "dynamicPropertyPathList": [
    {
      "key": "isVisible"
    }
  ],
  "dynamicTriggerPathList": [],
  "flexVerticalAlignment": "start",
  "fontFamily": "{{appsmith.theme.fontFamily.appFont}}",
  "isLoading": false,
  "isVisible": "{{ Checkbox1.isChecked === true }}",
  "key": "wqq8lp792z",
  "labelOrientation": "auto",
  "leftColumn": 2,
  "minWidth": 450,
  "mobileBottomRow": 45,
  "mobileLeftColumn": 5,
  "mobileRightColumn": 29,
  "mobileTopRow": 13,
  "needsErrorInfo": true,
  "originalBottomRow": 256,
  "originalTopRow": 140,
  "parentColumnSpace": 18.03125,
  "parentId": "ex9m4xi9sg",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "responsiveBehavior": "fill",
  "rightColumn": 64,
  "showDataPointLabel": false,
  "topRow": 140,
  "topRowBeforeCollapse": 140,
  "type": "CHART_WIDGET",
  "version": 1,
  "widgetId": "o0v9ka3xob",
  "widgetName": "hourStats",
  "xAxisName": "Product Line",
  "yAxisName": "Revenue($)"
}