{
  "gitSyncId": "6833bd1e663f59025c630a90_0f24ce11-d057-4e53-a79a-b99d0b79afa8",
  "id": "Cohorts_getCohortStringMatch",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "(\n  SELECT * \n  FROM public.\"gen1_ntwk_data\"\n  WHERE \n    (\n      cohort_name ILIKE '%' || '{{appsmith.store.filterView}}' || '%' OR\n      sub_cohorts ILIKE '%' || '{{appsmith.store.filterView}}' || '%'\n    )\n    AND cohort ILIKE '%' || '{{cohortSelectbyTag.selectedOptionValue}}' || '%'\n    AND customer ILIKE '%' || '{{customerFilter.selectedOptionValue}}' || '%'\n  ORDER BY \"Total Revenue\" DESC NULLS LAST\n)\nUNION ALL\n(\n  SELECT * \n  FROM public.\"gen1_ntwk_data\"\n  WHERE NOT EXISTS (\n    SELECT 1 \n    FROM public.\"gen1_ntwk_data\"\n    WHERE \n      (\n        cohort_name ILIKE '%' || '{{appsmith.store.filterView}}' || '%' OR\n        sub_cohorts ILIKE '%' || '{{appsmith.store.filterView}}' || '%'\n      )\n      AND cohort ILIKE '%' || '{{cohortSelectbyTag.selectedOptionValue}}' || '%'\n      AND customer ILIKE '%' || '{{customerFilter.selectedOptionValue}}' || '%'\n  )\n    AND cohort ILIKE '%' || '{{cohortSelectbyTag.selectedOptionValue}}' || '%'\n    AND customer ILIKE '%' || '{{customerFilter.selectedOptionValue}}' || '%'\n  ORDER BY \"Total Revenue\" DESC NULLS LAST\n);",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "Secco_Gen1_pgdb",
      "isAutoGenerated": false,
      "name": "Secco_Gen1_pgdb",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "name": "getCohortStringMatch",
    "pageId": "Cohorts",
    "runBehaviour": "ON_PAGE_LOAD",
    "userSetOnLoad": false
  }
}